{"version":3,"file":"js/477.bf710570.js","mappings":"sMAEA,MAAMA,EAAeC,KAAMC,EAAAA,EAAAA,IAAa,mBAAmBD,EAAEA,KAAIE,EAAAA,EAAAA,MAAcF,GACzEG,EAAa,CACjBC,IAAK,EACLC,MAAO,UAEHC,EAA2BP,GAAa,KAAmBQ,EAAAA,EAAAA,GAAoB,MAAO,CAAEF,MAAO,gBAAkB,MAAO,KACxHG,EAAa,CACjBF,GAEIG,EAAa,CACjBL,IAAK,EACLC,MAAO,QAEHK,EAAa,CAAEL,MAAO,cACtBM,EAAa,CAAC,aACdC,EAAa,CAAC,UAAW,aACzBC,EAAa,CAAC,WACdC,EAAa,CAAC,WACdC,EAAc,CAAC,WACfC,EAAc,CAAC,OACfC,EAAc,CAAC,UAAW,aAC1BC,EAAc,CAAEb,MAAO,4BACvBc,EAAc,CAAC,WACfC,EAAc,CAAEf,MAAO,iCACvBgB,EAAc,CAAC,WAEf,SAAUC,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQC,EAAAA,EAAAA,OAAcC,EAAAA,EAAAA,IAAaC,EAAAA,GAAa,KAAM,CACpDC,SAASC,EAAAA,EAAAA,KAAS,IAAM,CACrBV,EAAKW,UACDL,EAAAA,EAAAA,OAAcM,EAAAA,EAAAA,IAAoB,MAAOhC,EAAYK,MACrDqB,EAAAA,EAAAA,OAAcM,EAAAA,EAAAA,IAAoB,MAAO1B,EAAY,EACpDF,EAAAA,EAAAA,GAAoB,MAAOG,EAAY,EACrCH,EAAAA,EAAAA,GAAoB,KAAM,CAAE6B,UAAWb,EAAKc,aAAe,KAAM,EAAG1B,KACnEkB,EAAAA,EAAAA,KAAW,IAAOM,EAAAA,EAAAA,IAAoBG,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYhB,EAAKiB,OAAO,CAACC,EAAMC,MAC7Eb,EAAAA,EAAAA,OAAcM,EAAAA,EAAAA,IAAoB,MAAO,CAC/C9B,MAAO,qBACPD,IAAKsC,EAAID,GACR,EACDlC,EAAAA,EAAAA,GAAoB,IAAK,CACvBoC,QAAUC,GAAiBrB,EAAKsB,SAASJ,EAAKK,MAC9CzC,MAAO,2BACP+B,UAAWK,EAAKM,OACf,KAAM,EAAGnC,IACZL,EAAAA,EAAAA,GAAoB,IAAK,CACvBoC,QAAUC,GAAiBrB,EAAKyB,aAAaP,EAAKQ,MAClD5C,MAAO,4BACN6C,EAAAA,EAAAA,IAAiBT,EAAKQ,MAAO,EAAGpC,IACnCN,EAAAA,EAAAA,GAAoB,IAAK,CACvBoC,QAAUC,GAAiBrB,EAAKsB,SAASJ,EAAKK,MAAM,GACpDzC,MAAO,2BACN,kBAAmB,EAAGS,IACzBP,EAAAA,EAAAA,GAAoB,IAAK,CACvBoC,QAAUC,GAAiBrB,EAAKsB,SAASJ,EAAKK,OAC7C,EACDvC,EAAAA,EAAAA,GAAoB,MAAO,CACzBF,MAAO,8BACP8C,IAAKV,EAAKW,eACVC,IAAK,IACJ,KAAM,EAAGrC,IACX,EAAGD,IACNR,EAAAA,EAAAA,GAAoB,IAAK,CACvBoC,QAAUC,GAAiBrB,EAAKsB,SAASJ,EAAKK,MAC9CzC,MAAO,2BACP+B,UAAWK,EAAKa,SACf,KAAM,EAAGrC,IACZV,EAAAA,EAAAA,GAAoB,MAAOW,EAAa,EACtCX,EAAAA,EAAAA,GAAoB,IAAK,CACvBoC,QAAUC,GAAiBrB,EAAKsB,SAASJ,EAAKK,MAC9CzC,MAAO,iCACN,YAAa,EAAGc,IACnBZ,EAAAA,EAAAA,GAAoB,MAAOa,EAAa,GACrCS,EAAAA,EAAAA,KAAW,IAAOM,EAAAA,EAAAA,IAAoBG,EAAAA,GAAW,MAAMC,EAAAA,EAAAA,IAAYE,EAAKc,MAAM,CAACC,EAAKC,MAC3E5B,EAAAA,EAAAA,OAAcM,EAAAA,EAAAA,IAAoB,IAAK,CAC7CQ,QAAUC,GAAiBrB,EAAKmC,aAAaF,EAAIG,MACjDvD,IAAKoD,EAAIC,EAAO,IAAIf,IACnBQ,EAAAA,EAAAA,IAAiBM,EAAIG,MAAO,EAAGtC,MAChC,eAIR,cAIduC,EAAG,GAEN,C,8BCpFD,GAAeC,EAAAA,EAAAA,IAAgB,CAC3BF,KAAM,iBACNG,WAAY,CAAC,EAEbC,QACI,MAAMC,GAAKC,EAAAA,EAAAA,IAAO,MACZ/B,GAAUgC,EAAAA,EAAAA,KAAI,GACdC,GAAWD,EAAAA,EAAAA,IAAI,IACf7B,EAAc+B,EAAAA,EAAAA,aAAAA,MAAAA,OAAAA,SACdC,EAAcD,EAAAA,EAAAA,aAAAA,MAAAA,KAAAA,SAAwC,cAE5DE,MAAM,GAAGN,WACJO,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACFP,EAASQ,MAAQD,EAAKlC,MAAMoC,QAAQnC,GAAcoC,OAAOC,KAAKrC,EAAKsC,YAAYC,SAAS,eACxF9C,EAAQyC,OAAQ,CAAhB,IAGR,MAAMnC,GAAQyC,EAAAA,EAAAA,KAAS,KACnB,MAAMC,EAAiBf,EAASQ,MAAMQ,KAAK1C,IACvCA,EAAKQ,KAAO,IAAImC,KAAK3C,EAAKQ,MAAMoC,eAAe,UAAW,CAAEC,MAAO,OAAQC,IAAK,UAAWC,KAAM,YACjG/C,EAAKa,QAAUb,EAAKa,QAAQmC,WAAW,IAAK,IAAIA,WAAW,IAAK,IAChEhD,EAAKW,eAAiBX,EAAKW,eAAiBX,EAAKW,eAAiB,4BAC3DX,KAGX,OAAI4B,EACOa,EAAeN,QAAQnC,GACnBoC,OAAOC,KAAKrC,EAAKc,MAAMyB,SAAS3C,KAIpC6C,EAAeN,QAAQnC,GACnB,IAAI2C,KAAK/C,GAAaqD,aAAe,IAAIN,KAAK3C,EAAKQ,MAAMyC,YAEvE,IAGC7C,EAAW,CAACC,EAAc6C,GAAiB,KAC7CvB,EAAAA,EAAAA,KAAY,SAAStB,IAAO6C,EAAiB,YAAc,KAA3D,EAGE3C,EAAgBC,IAClB,MAAM2C,EAAS,IAAIR,KAAKnC,GAAMoC,eAAe,UAAW,CAAEC,MAAO,OAAQE,KAAM,YAC/EpB,EAAAA,EAAAA,KAAY,cAAcwB,IAA1B,EAGElC,EAAgBF,IAClBY,EAAAA,EAAAA,KAAY,oBAAoBZ,IAAhC,EAGJ,MAAO,CACHhB,QACAN,UAEAG,cAEAQ,WACAG,eACAU,eAEP,I,QC3DL,MAAMmC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASvE,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://micayla-blog/./src/views/BlogFilterView.vue?980b","webpack://micayla-blog/./src/views/BlogFilterView.vue?3704","webpack://micayla-blog/./src/views/BlogFilterView.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, Transition as _Transition, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-75c937bd\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"loader\"\n}\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"clock-loader\" }, null, -1))\nconst _hoisted_3 = [\n  _hoisted_2\n]\nconst _hoisted_4 = {\n  key: 1,\n  class: \"blog\"\n}\nconst _hoisted_5 = { class: \"blog-posts\" }\nconst _hoisted_6 = [\"innerHTML\"]\nconst _hoisted_7 = [\"onClick\", \"innerHTML\"]\nconst _hoisted_8 = [\"onClick\"]\nconst _hoisted_9 = [\"onClick\"]\nconst _hoisted_10 = [\"onClick\"]\nconst _hoisted_11 = [\"src\"]\nconst _hoisted_12 = [\"onClick\", \"innerHTML\"]\nconst _hoisted_13 = { class: \"blog-posts-article-links\" }\nconst _hoisted_14 = [\"onClick\"]\nconst _hoisted_15 = { class: \"blog-posts-article-links-tags\" }\nconst _hoisted_16 = [\"onClick\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createBlock(_Transition, null, {\n    default: _withCtx(() => [\n      (_ctx.loading)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _hoisted_3))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createElementVNode(\"h2\", { innerHTML: _ctx.searchParam }, null, 8, _hoisted_6),\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.posts, (post, idx) => {\n                return (_openBlock(), _createElementBlock(\"div\", {\n                  class: \"blog-posts-article\",\n                  key: idx+post\n                }, [\n                  _createElementVNode(\"a\", {\n                    onClick: ($event: any) => (_ctx.redirect(post.slug)),\n                    class: \"blog-posts-article-title\",\n                    innerHTML: post.title\n                  }, null, 8, _hoisted_7),\n                  _createElementVNode(\"a\", {\n                    onClick: ($event: any) => (_ctx.redirectDate(post.date)),\n                    class: \"blog-posts-article-meta\"\n                  }, _toDisplayString(post.date), 9, _hoisted_8),\n                  _createElementVNode(\"a\", {\n                    onClick: ($event: any) => (_ctx.redirect(post.slug, true)),\n                    class: \"blog-posts-article-meta\"\n                  }, \"Leave a comment\", 8, _hoisted_9),\n                  _createElementVNode(\"a\", {\n                    onClick: ($event: any) => (_ctx.redirect(post.slug))\n                  }, [\n                    _createElementVNode(\"img\", {\n                      class: \"blog-posts-article-featured\",\n                      src: post.featured_image,\n                      alt: \"\"\n                    }, null, 8, _hoisted_11)\n                  ], 8, _hoisted_10),\n                  _createElementVNode(\"a\", {\n                    onClick: ($event: any) => (_ctx.redirect(post.slug)),\n                    class: \"blog-posts-article-blurb\",\n                    innerHTML: post.excerpt\n                  }, null, 8, _hoisted_12),\n                  _createElementVNode(\"div\", _hoisted_13, [\n                    _createElementVNode(\"a\", {\n                      onClick: ($event: any) => (_ctx.redirect(post.slug)),\n                      class: \"blog-posts-article-links-href\"\n                    }, \"Read more\", 8, _hoisted_14),\n                    _createElementVNode(\"div\", _hoisted_15, [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(post.tags, (tag, tagIdx) => {\n                        return (_openBlock(), _createElementBlock(\"a\", {\n                          onClick: ($event: any) => (_ctx.redirectTags(tag.name)),\n                          key: tag+tagIdx+'f'+idx\n                        }, _toDisplayString(tag.name), 9, _hoisted_16))\n                      }), 128))\n                    ])\n                  ])\n                ]))\n              }), 128))\n            ])\n          ]))\n    ]),\n    _: 1\n  }))\n}","\nimport router from '@/router';\nimport { computed } from '@vue/reactivity';\nimport { defineComponent, inject, ref } from 'vue';\n\nexport default defineComponent({\n    name: 'BlogFilterView',\n    components: {\n    },\n    setup() {\n        const wp = inject('wp');\n        const loading = ref(true);\n        const allPosts = ref([] as any);\n        const searchParam = router.currentRoute.value.params.category as string;\n        const isTagFilter = router.currentRoute.value.path.includes('categories');\n\n        fetch(`${wp}/posts`)\n            .then(response => response.json())\n            .then(data => {\n                allPosts.value = data.posts.filter((post: any) => Object.keys(post.categories).includes('blog-post'))\n                loading.value = false;\n            });\n\n        const posts = computed(() => {\n            const formattedPosts = allPosts.value.map((post: any) => {\n                post.date = new Date(post.date).toLocaleString('default', { month: 'long', day: 'numeric', year: 'numeric' });\n                post.excerpt = post.excerpt.replaceAll('[', '').replaceAll(']', '');\n                post.featured_image = post.featured_image ? post.featured_image : \"../assets/marigold_bg.jpg\"\n                return post\n            });\n\n            if (isTagFilter) {\n                return formattedPosts.filter((post: any) => {\n                    return Object.keys(post.tags).includes(searchParam);\n                })\n            }\n            else {\n                return formattedPosts.filter((post: any) => {\n                    return new Date(searchParam).getMonth() === new Date(post.date).getMonth();\n                })\n            }\n        });\n\n        const redirect = (slug: string, commentSection = false) => {\n            router.push(`/blog/${slug}${commentSection ? '#comments' : ''}`);\n        }\n\n        const redirectDate = (date: string) => {\n            const toDate = new Date(date).toLocaleString('default', { month: 'long', year: 'numeric' });\n            router.push(`/blog/date/${toDate}`);\n        }\n\n        const redirectTags = (tag: string) => {\n            router.push(`/blog/categories/${tag}`);\n        }\n\n        return {\n            posts,\n            loading,\n\n            searchParam,\n\n            redirect,\n            redirectDate,\n            redirectTags\n        }\n    }\n});\n","import { render } from \"./BlogFilterView.vue?vue&type=template&id=75c937bd&scoped=true&ts=true\"\nimport script from \"./BlogFilterView.vue?vue&type=script&lang=ts\"\nexport * from \"./BlogFilterView.vue?vue&type=script&lang=ts\"\n\nimport \"./BlogFilterView.vue?vue&type=style&index=0&id=75c937bd&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/barrett/Documents/github/local/micayla-blog/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-75c937bd\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","key","class","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createBlock","_Transition","default","_withCtx","loading","_createElementBlock","innerHTML","searchParam","_Fragment","_renderList","posts","post","idx","onClick","$event","redirect","slug","title","redirectDate","date","_toDisplayString","src","featured_image","alt","excerpt","tags","tag","tagIdx","redirectTags","name","_","defineComponent","components","setup","wp","inject","ref","allPosts","router","isTagFilter","fetch","then","response","json","data","value","filter","Object","keys","categories","includes","computed","formattedPosts","map","Date","toLocaleString","month","day","year","replaceAll","getMonth","commentSection","toDate","__exports__"],"sourceRoot":""}